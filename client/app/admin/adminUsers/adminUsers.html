<div class="usersAdmin">
  <h2 style="text-align:center;">USERS</h2>

<div ng-show="forbidden" class="ui error message">
  <div class="header">
    You do not have access to this panel.
  </div>
  <ul class="list">
    <li>Only admins have access to the User control panel.</li>
  </ul>
</div>

<div ng-show="!forbidden">

  <p>Click to edit field.</p>
    <!-- USERS TABLE -->
    <table class="ui celled striped tablet stackable table">
      <thead>
        <tr>
          <th></th>
          <th ng-repeat="header in collectionHeaders"><span>{{ header }}</span></th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="row in usersList">
          <td>
            <input type="checkbox" ng-click="alterSelect(row._id)">
          </td>
          <td ng-repeat="(name, value) in row" ng-scope>
            <a href="#" onclick="return false" ng-click="editing = true" ng-hide="editing" ng-bind="value || 'null'"></a>
            <textarea ng-model="row[name]" ng-show="editing"></textarea>
            <button ng-click="editing = false; updateUser(row)" ng-show="editing">UPDATE</button>
          </td>
          <td>
            <button class="ui mini icon negative button" ng-really-message="Are you sure you want to delete this user?" ng-really-click="removeUser(row._id)">
              <i class="icon close"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <button ng-really-message="Are you sure you want to delete all selected users?" ng-really-click="removeUser(selectedRecordIds)" class="ui negative button">Remove selected users</button>
</div>
</div>
